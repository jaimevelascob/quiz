{"remainingRequest":"/home/hab35/Hackabos/proyectoHack/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hab35/Hackabos/proyectoHack/front/src/views/EditUser.vue?vue&type=style&index=0&id=890e6ea2&scoped=true&lang=css&","dependencies":[{"path":"/home/hab35/Hackabos/proyectoHack/front/src/views/EditUser.vue","mtime":1592737763761},{"path":"/home/hab35/Hackabos/proyectoHack/front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hab35/Hackabos/proyectoHack/front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/hab35/Hackabos/proyectoHack/front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/hab35/Hackabos/proyectoHack/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hab35/Hackabos/proyectoHack/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKYnV0dG9uIHsKICB3aWR0aDogMTAwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBjb2xvcjogd2hpdGU7CiAgYmFja2dyb3VuZDogI2FmMjg1MTsKICBib3JkZXI6IDJweCBzb2xpZCAjZDZjZGI2OwogIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgcGFkZGluZzogMC41cmVtOwogIG1hcmdpbjogMC42NjdyZW07CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KYnV0dG9uOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA4Y2JhOwogIGNvbG9yOiB3aGl0ZTsKICBib3JkZXI6IDJweCBzb2xpZCBncmF5Owp9CmJ1dHRvbjpmb2N1cyB7CiAgb3V0bGluZTogbm9uZTsKfQoubW9kYWwgewogIHBvc2l0aW9uOiBmaXhlZDsKICB0b3A6IDA7CiAgbGVmdDogMDsKICBib3R0b206IDA7CiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpOwogIHdpZHRoOiAxMDAlOwp9Ci5tb2RhbEJveCB7CiAgYmFja2dyb3VuZDogI2ZlZmVmZTsKICBtYXJnaW46IDE1JSBhdXRvOwogIHBhZGRpbmc6IDIwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgIzg4ODsKICB3aWR0aDogODAlOwp9Ci5leiB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KcCB7CiAgY29sb3I6IHJlYmVjY2FwdXJwbGU7Cn0KbGkgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGNvbG9yOiAjMjhhZjQ1Owp9CmgyIHsKICBwYWRkaW5nOiAxcmVtOwogIGhlaWdodDogOTB2aDsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgLyogLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgxNWRlZyk7CiAgdHJhbnNmb3JtOiByb3RhdGUoMTVkZWcpOyAqLwogIGN1cnNvcjogcG9pbnRlcjsKICAtd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyBlYXNlOwogIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyBlYXNlOwp9Ci5yZW0gewogIGN1cnNvcjogcG9pbnRlcjsKICAtd2Via2l0LWFuaW1hdGlvbjogcHVsc2F0ZSAzcyBlYXNlLWluLW91dDsKICAtd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlOwogIG9wYWNpdHk6IDAuMzsKfQouaGhoIHsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQpoMjpob3ZlciB7CiAgb3BhY2l0eTogMC43Owp9CkAtd2Via2l0LWtleWZyYW1lcyBwdWxzYXRlIHsKICAwJSB7CiAgICBvcGFjaXR5OiAwLjQ7CiAgfQogIDUwJSB7CiAgICBvcGFjaXR5OiAwLjE7CiAgfQogIDEwMCUgewogICAgb3BhY2l0eTogMC40OwogIH0KfQo="},{"version":3,"sources":["EditUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditUser.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"main\">\n    <!-- NOMBRE DE LA PAGINA -->\n    <!-- <vue-headful title=\"Clientes\" description=\"Clientes page\" /> -->\n    <!-- /NOMBRE DE LA PAGINA -->\n    <!-- MENU -->\n    <div>\n      <!-- <Menu></Menu> -->\n    </div>\n    <!-- /MENU -->\n    <ul class=\"hhh\">\n      <h2>Lista de clientes</h2>\n    </ul>\n    <!-- CLIENTES -->\n    <clients :clients=\"clients\" v-on:edit=\"openModal\" v-on:delete=\"deleteClients\"></clients>\n    <!-- /CLIENTES -->\n\n    <!-- MODAL PARA EDITAR -->\n    <div class=\"modal\" v-show=\"modal\">\n      <div class=\"modalBox\" v-on:edit=\"showEditText\">\n        <div class=\"ez\">\n          <h3 class=\"rem\">Editar cliente</h3>\n          <p v-show=\"required\">Tienes datos sin completar</p>\n          <li class=\"al\">\n            <label for=\"newName\">Nombre:</label>\n            <input v-model=\"newName\" placeholder=\"Nombre\" />\n          </li>\n          <li class=\"al\">\n            <label for=\"newSurname\">Apellido:</label>\n            <input v-model=\"newSurname\" placeholder=\"Apellido\" />\n          </li>\n          <li class=\"al\">\n            <label for=\"newCity\">Ciudad:</label>\n            <input v-model=\"newCity\" placeholder=\"Ciudad\" />\n          </li>\n          <li class=\"al\">\n            <label for=\"newCompany\">Empresa:</label>\n            <input v-model=\"newCompany\" placeholder=\"Empresa\" />\n          </li>\n          <div>\n            <button\n              @click=\"editClient(newName, newSurname, newCity, newCompany)\"\n              class=\"update\"\n            >UPDATE</button>\n            <button @click=\"closeModal()\" class=\"update\">CERRAR</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Footer -->\n    <!-- <Footer></Footer> -->\n    <!-- /Footer -->\n    <!-- /MODAL PARA EDITAR -->\n  </div>\n</template>\n\n<script>\n//IMPORTANDO AXIOS\nimport axios from \"axios\";\n//IMPORTANDO CLIENTES\nimport clients from \"@/components/UserEdit.vue\";\n//IMPORTANDO SWEETALERT\n// import Swal from \"sweetalert2\";\n// IMPORTANDO MENU\n// import Menu from \"@/components/Menu.vue\";\n// IMPORTANDO Footer\n// import Footer from \"@/components/Footer.vue\";\nexport default {\n  name: \"EditUser\",\n  components: {\n    clients,\n    Menu,\n    Footer\n  },\n  data() {\n    return {\n      clients: [],\n      modal: false,\n      newName: \"\",\n      newSurname: \"\",\n      newCity: \"\",\n      newCompany: \"\",\n      id: null,\n      correctData: false,\n      required: false\n    };\n  },\n  methods: {\n    // COMPROBAR QUE LOS DATOS NO ESTÁN VACIOS\n    validatingData() {\n      if (\n        this.newName === \"\" ||\n        this.newSurname === \"\" ||\n        this.newCity === \"\" ||\n        this.newCompany === \"\"\n      ) {\n        this.correctData = false; // NON ENVIAR\n        this.required = true; // MOSTRA O MENSAXE\n      } else {\n        this.correctData = true; // ENVIAR\n        this.required = false; // NON MOSTRA O MENSAXE\n      }\n    },\n    //COGER CLIENTES\n    getClients() {\n      let self = this;\n      axios\n        .get(\"http://localhost:3000/clientes\")\n        .then(function(response) {\n          self.clients = response.data;\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    // ELIMINAR CLIENTE\n    deleteClients(data) {\n      let self = this;\n      this.id = data;\n      axios\n        .delete(\"http://localhost:3000/clientes/del/\" + this.id, {\n          id: this.id\n        })\n        .then(function(response) {\n          console.log(response);\n          location.reload();\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    showEditText(data) {\n      this.newName = data.nombre;\n      this.newSurname = data.apellido;\n      this.newCity = data.ciudad;\n      this.newCompany = data.empresa;\n      this.id = data.id;\n    },\n    // FUNCIÓN PARA ACTUALIZAR/EDITAR\n    editClient(newName, newSurname, newCity, newCompany) {\n      this.validatingData();\n      if (this.correctData == true) {\n        let self = this;\n        axios\n          .put(\"http://localhost:3000/clientes/update/\" + self.id, {\n            id: self.id,\n            nombre: self.newName,\n            apellido: self.newSurname,\n            ciudad: self.newCity,\n            empresa: self.newCompany\n          })\n          .then(function(response) {\n            self.emptyFields();\n            Swal.fire({\n              icon: \"success\",\n              title: \"Dicho y hecho\",\n              showConfirmButton: false,\n              timer: 1500\n            }).then(result => location.reload());\n          })\n          .catch(function(error) {\n            console.log(error);\n          });\n      }\n    },\n    // ABRIR MODAL\n    openModal(data) {\n      this.modal = true;\n      this.showEditText(data);\n    },\n    // CERRAR MODAL\n    closeModal() {\n      this.modal = false;\n    },\n    // Limpiar campos\n    emptyFields() {\n      this.newName = \"\";\n      this.newSurname = \"\";\n      this.newCity = \"\";\n      this.newCompany = \"\";\n    }\n  },\n  created() {\n    this.getClients();\n  }\n};\n</script>\n\n<style scoped>\nbutton {\n  width: 100px;\n  cursor: pointer;\n  text-align: center;\n  color: white;\n  background: #af2851;\n  border: 2px solid #d6cdb6;\n  border-radius: 20px;\n  padding: 0.5rem;\n  margin: 0.667rem;\n  font-weight: bold;\n}\nbutton:hover {\n  background-color: #008cba;\n  color: white;\n  border: 2px solid gray;\n}\nbutton:focus {\n  outline: none;\n}\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  width: 100%;\n}\n.modalBox {\n  background: #fefefe;\n  margin: 15% auto;\n  padding: 20px;\n  border: 1px solid #888;\n  width: 80%;\n}\n.ez {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\np {\n  color: rebeccapurple;\n}\nli {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: #28af45;\n}\nh2 {\n  padding: 1rem;\n  height: 90vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* -webkit-transform: rotate(15deg);\n  transform: rotate(15deg); */\n  cursor: pointer;\n  -webkit-transition: opacity 0.3s ease;\n  transition: opacity 0.3s ease;\n}\n.rem {\n  cursor: pointer;\n  -webkit-animation: pulsate 3s ease-in-out;\n  -webkit-animation-iteration-count: infinite;\n  opacity: 0.3;\n}\n.hhh {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\nh2:hover {\n  opacity: 0.7;\n}\n@-webkit-keyframes pulsate {\n  0% {\n    opacity: 0.4;\n  }\n  50% {\n    opacity: 0.1;\n  }\n  100% {\n    opacity: 0.4;\n  }\n}\n</style>"]}]}