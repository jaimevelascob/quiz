{"remainingRequest":"/home/hab35/Hackabos/proyectoHack/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hab35/Hackabos/proyectoHack/front/src/views/EditUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hab35/Hackabos/proyectoHack/front/src/views/EditUser.vue","mtime":1592737763761},{"path":"/home/hab35/Hackabos/proyectoHack/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hab35/Hackabos/proyectoHack/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hab35/Hackabos/proyectoHack/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hab35/Hackabos/proyectoHack/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vSU1QT1JUQU5ETyBBWElPUwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwovL0lNUE9SVEFORE8gQ0xJRU5URVMKaW1wb3J0IGNsaWVudHMgZnJvbSAiQC9jb21wb25lbnRzL1VzZXJFZGl0LnZ1ZSI7Ci8vSU1QT1JUQU5ETyBTV0VFVEFMRVJUCi8vIGltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKLy8gSU1QT1JUQU5ETyBNRU5VCi8vIGltcG9ydCBNZW51IGZyb20gIkAvY29tcG9uZW50cy9NZW51LnZ1ZSI7Ci8vIElNUE9SVEFORE8gRm9vdGVyCi8vIGltcG9ydCBGb290ZXIgZnJvbSAiQC9jb21wb25lbnRzL0Zvb3Rlci52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkVkaXRVc2VyIiwKICBjb21wb25lbnRzOiB7CiAgICBjbGllbnRzLAogICAgTWVudSwKICAgIEZvb3RlcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNsaWVudHM6IFtdLAogICAgICBtb2RhbDogZmFsc2UsCiAgICAgIG5ld05hbWU6ICIiLAogICAgICBuZXdTdXJuYW1lOiAiIiwKICAgICAgbmV3Q2l0eTogIiIsCiAgICAgIG5ld0NvbXBhbnk6ICIiLAogICAgICBpZDogbnVsbCwKICAgICAgY29ycmVjdERhdGE6IGZhbHNlLAogICAgICByZXF1aXJlZDogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBDT01QUk9CQVIgUVVFIExPUyBEQVRPUyBOTyBFU1TDgU4gVkFDSU9TCiAgICB2YWxpZGF0aW5nRGF0YSgpIHsKICAgICAgaWYgKAogICAgICAgIHRoaXMubmV3TmFtZSA9PT0gIiIgfHwKICAgICAgICB0aGlzLm5ld1N1cm5hbWUgPT09ICIiIHx8CiAgICAgICAgdGhpcy5uZXdDaXR5ID09PSAiIiB8fAogICAgICAgIHRoaXMubmV3Q29tcGFueSA9PT0gIiIKICAgICAgKSB7CiAgICAgICAgdGhpcy5jb3JyZWN0RGF0YSA9IGZhbHNlOyAvLyBOT04gRU5WSUFSCiAgICAgICAgdGhpcy5yZXF1aXJlZCA9IHRydWU7IC8vIE1PU1RSQSBPIE1FTlNBWEUKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNvcnJlY3REYXRhID0gdHJ1ZTsgLy8gRU5WSUFSCiAgICAgICAgdGhpcy5yZXF1aXJlZCA9IGZhbHNlOyAvLyBOT04gTU9TVFJBIE8gTUVOU0FYRQogICAgICB9CiAgICB9LAogICAgLy9DT0dFUiBDTElFTlRFUwogICAgZ2V0Q2xpZW50cygpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICBheGlvcwogICAgICAgIC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9jbGllbnRlcyIpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIHNlbGYuY2xpZW50cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyBFTElNSU5BUiBDTElFTlRFCiAgICBkZWxldGVDbGllbnRzKGRhdGEpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICB0aGlzLmlkID0gZGF0YTsKICAgICAgYXhpb3MKICAgICAgICAuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvY2xpZW50ZXMvZGVsLyIgKyB0aGlzLmlkLCB7CiAgICAgICAgICBpZDogdGhpcy5pZAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogICAgc2hvd0VkaXRUZXh0KGRhdGEpIHsKICAgICAgdGhpcy5uZXdOYW1lID0gZGF0YS5ub21icmU7CiAgICAgIHRoaXMubmV3U3VybmFtZSA9IGRhdGEuYXBlbGxpZG87CiAgICAgIHRoaXMubmV3Q2l0eSA9IGRhdGEuY2l1ZGFkOwogICAgICB0aGlzLm5ld0NvbXBhbnkgPSBkYXRhLmVtcHJlc2E7CiAgICAgIHRoaXMuaWQgPSBkYXRhLmlkOwogICAgfSwKICAgIC8vIEZVTkNJw5NOIFBBUkEgQUNUVUFMSVpBUi9FRElUQVIKICAgIGVkaXRDbGllbnQobmV3TmFtZSwgbmV3U3VybmFtZSwgbmV3Q2l0eSwgbmV3Q29tcGFueSkgewogICAgICB0aGlzLnZhbGlkYXRpbmdEYXRhKCk7CiAgICAgIGlmICh0aGlzLmNvcnJlY3REYXRhID09IHRydWUpIHsKICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wdXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9jbGllbnRlcy91cGRhdGUvIiArIHNlbGYuaWQsIHsKICAgICAgICAgICAgaWQ6IHNlbGYuaWQsCiAgICAgICAgICAgIG5vbWJyZTogc2VsZi5uZXdOYW1lLAogICAgICAgICAgICBhcGVsbGlkbzogc2VsZi5uZXdTdXJuYW1lLAogICAgICAgICAgICBjaXVkYWQ6IHNlbGYubmV3Q2l0eSwKICAgICAgICAgICAgZW1wcmVzYTogc2VsZi5uZXdDb21wYW55CiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgc2VsZi5lbXB0eUZpZWxkcygpOwogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB0aXRsZTogIkRpY2hvIHkgaGVjaG8iLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0aW1lcjogMTUwMAogICAgICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiBsb2NhdGlvbi5yZWxvYWQoKSk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy8gQUJSSVIgTU9EQUwKICAgIG9wZW5Nb2RhbChkYXRhKSB7CiAgICAgIHRoaXMubW9kYWwgPSB0cnVlOwogICAgICB0aGlzLnNob3dFZGl0VGV4dChkYXRhKTsKICAgIH0sCiAgICAvLyBDRVJSQVIgTU9EQUwKICAgIGNsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMubW9kYWwgPSBmYWxzZTsKICAgIH0sCiAgICAvLyBMaW1waWFyIGNhbXBvcwogICAgZW1wdHlGaWVsZHMoKSB7CiAgICAgIHRoaXMubmV3TmFtZSA9ICIiOwogICAgICB0aGlzLm5ld1N1cm5hbWUgPSAiIjsKICAgICAgdGhpcy5uZXdDaXR5ID0gIiI7CiAgICAgIHRoaXMubmV3Q29tcGFueSA9ICIiOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Q2xpZW50cygpOwogIH0KfTsK"},{"version":3,"sources":["EditUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditUser.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"main\">\n    <!-- NOMBRE DE LA PAGINA -->\n    <!-- <vue-headful title=\"Clientes\" description=\"Clientes page\" /> -->\n    <!-- /NOMBRE DE LA PAGINA -->\n    <!-- MENU -->\n    <div>\n      <!-- <Menu></Menu> -->\n    </div>\n    <!-- /MENU -->\n    <ul class=\"hhh\">\n      <h2>Lista de clientes</h2>\n    </ul>\n    <!-- CLIENTES -->\n    <clients :clients=\"clients\" v-on:edit=\"openModal\" v-on:delete=\"deleteClients\"></clients>\n    <!-- /CLIENTES -->\n\n    <!-- MODAL PARA EDITAR -->\n    <div class=\"modal\" v-show=\"modal\">\n      <div class=\"modalBox\" v-on:edit=\"showEditText\">\n        <div class=\"ez\">\n          <h3 class=\"rem\">Editar cliente</h3>\n          <p v-show=\"required\">Tienes datos sin completar</p>\n          <li class=\"al\">\n            <label for=\"newName\">Nombre:</label>\n            <input v-model=\"newName\" placeholder=\"Nombre\" />\n          </li>\n          <li class=\"al\">\n            <label for=\"newSurname\">Apellido:</label>\n            <input v-model=\"newSurname\" placeholder=\"Apellido\" />\n          </li>\n          <li class=\"al\">\n            <label for=\"newCity\">Ciudad:</label>\n            <input v-model=\"newCity\" placeholder=\"Ciudad\" />\n          </li>\n          <li class=\"al\">\n            <label for=\"newCompany\">Empresa:</label>\n            <input v-model=\"newCompany\" placeholder=\"Empresa\" />\n          </li>\n          <div>\n            <button\n              @click=\"editClient(newName, newSurname, newCity, newCompany)\"\n              class=\"update\"\n            >UPDATE</button>\n            <button @click=\"closeModal()\" class=\"update\">CERRAR</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Footer -->\n    <!-- <Footer></Footer> -->\n    <!-- /Footer -->\n    <!-- /MODAL PARA EDITAR -->\n  </div>\n</template>\n\n<script>\n//IMPORTANDO AXIOS\nimport axios from \"axios\";\n//IMPORTANDO CLIENTES\nimport clients from \"@/components/UserEdit.vue\";\n//IMPORTANDO SWEETALERT\n// import Swal from \"sweetalert2\";\n// IMPORTANDO MENU\n// import Menu from \"@/components/Menu.vue\";\n// IMPORTANDO Footer\n// import Footer from \"@/components/Footer.vue\";\nexport default {\n  name: \"EditUser\",\n  components: {\n    clients,\n    Menu,\n    Footer\n  },\n  data() {\n    return {\n      clients: [],\n      modal: false,\n      newName: \"\",\n      newSurname: \"\",\n      newCity: \"\",\n      newCompany: \"\",\n      id: null,\n      correctData: false,\n      required: false\n    };\n  },\n  methods: {\n    // COMPROBAR QUE LOS DATOS NO ESTÁN VACIOS\n    validatingData() {\n      if (\n        this.newName === \"\" ||\n        this.newSurname === \"\" ||\n        this.newCity === \"\" ||\n        this.newCompany === \"\"\n      ) {\n        this.correctData = false; // NON ENVIAR\n        this.required = true; // MOSTRA O MENSAXE\n      } else {\n        this.correctData = true; // ENVIAR\n        this.required = false; // NON MOSTRA O MENSAXE\n      }\n    },\n    //COGER CLIENTES\n    getClients() {\n      let self = this;\n      axios\n        .get(\"http://localhost:3000/clientes\")\n        .then(function(response) {\n          self.clients = response.data;\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    // ELIMINAR CLIENTE\n    deleteClients(data) {\n      let self = this;\n      this.id = data;\n      axios\n        .delete(\"http://localhost:3000/clientes/del/\" + this.id, {\n          id: this.id\n        })\n        .then(function(response) {\n          console.log(response);\n          location.reload();\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    showEditText(data) {\n      this.newName = data.nombre;\n      this.newSurname = data.apellido;\n      this.newCity = data.ciudad;\n      this.newCompany = data.empresa;\n      this.id = data.id;\n    },\n    // FUNCIÓN PARA ACTUALIZAR/EDITAR\n    editClient(newName, newSurname, newCity, newCompany) {\n      this.validatingData();\n      if (this.correctData == true) {\n        let self = this;\n        axios\n          .put(\"http://localhost:3000/clientes/update/\" + self.id, {\n            id: self.id,\n            nombre: self.newName,\n            apellido: self.newSurname,\n            ciudad: self.newCity,\n            empresa: self.newCompany\n          })\n          .then(function(response) {\n            self.emptyFields();\n            Swal.fire({\n              icon: \"success\",\n              title: \"Dicho y hecho\",\n              showConfirmButton: false,\n              timer: 1500\n            }).then(result => location.reload());\n          })\n          .catch(function(error) {\n            console.log(error);\n          });\n      }\n    },\n    // ABRIR MODAL\n    openModal(data) {\n      this.modal = true;\n      this.showEditText(data);\n    },\n    // CERRAR MODAL\n    closeModal() {\n      this.modal = false;\n    },\n    // Limpiar campos\n    emptyFields() {\n      this.newName = \"\";\n      this.newSurname = \"\";\n      this.newCity = \"\";\n      this.newCompany = \"\";\n    }\n  },\n  created() {\n    this.getClients();\n  }\n};\n</script>\n\n<style scoped>\nbutton {\n  width: 100px;\n  cursor: pointer;\n  text-align: center;\n  color: white;\n  background: #af2851;\n  border: 2px solid #d6cdb6;\n  border-radius: 20px;\n  padding: 0.5rem;\n  margin: 0.667rem;\n  font-weight: bold;\n}\nbutton:hover {\n  background-color: #008cba;\n  color: white;\n  border: 2px solid gray;\n}\nbutton:focus {\n  outline: none;\n}\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  width: 100%;\n}\n.modalBox {\n  background: #fefefe;\n  margin: 15% auto;\n  padding: 20px;\n  border: 1px solid #888;\n  width: 80%;\n}\n.ez {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\np {\n  color: rebeccapurple;\n}\nli {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: #28af45;\n}\nh2 {\n  padding: 1rem;\n  height: 90vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* -webkit-transform: rotate(15deg);\n  transform: rotate(15deg); */\n  cursor: pointer;\n  -webkit-transition: opacity 0.3s ease;\n  transition: opacity 0.3s ease;\n}\n.rem {\n  cursor: pointer;\n  -webkit-animation: pulsate 3s ease-in-out;\n  -webkit-animation-iteration-count: infinite;\n  opacity: 0.3;\n}\n.hhh {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\nh2:hover {\n  opacity: 0.7;\n}\n@-webkit-keyframes pulsate {\n  0% {\n    opacity: 0.4;\n  }\n  50% {\n    opacity: 0.1;\n  }\n  100% {\n    opacity: 0.4;\n  }\n}\n</style>"]}]}